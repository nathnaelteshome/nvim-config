(()=>{"use strict";var e={116:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSubmissionById=t.getTries=t.getSubmission=t.getLastSubmission=t.getSubmissions=void 0,t.getSubmissions=function(e){return n(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,fetch("https://codeforces.com/api/user.status?handle=".concat(e,"&from=1&count=150"))];case 1:return 200!=(t=n.sent()).status?[3,3]:[4,t.json()];case 2:return[2,n.sent().result];case 3:return[2,[]]}}))}))},t.getLastSubmission=function(e){return n(void 0,void 0,void 0,(function(){var n,o,i,s;return r(this,(function(r){switch(r.label){case 0:return[4,(0,t.getSubmissions)(e)];case 1:for(n=r.sent(),o=0,i=n;o<i.length;o++)if("OK"===(s=i[o]).verdict)return[2,s];return[2,null]}}))}))},t.getSubmission=function(e,o){return n(void 0,void 0,void 0,(function(){var n,i,s,a;return r(this,(function(r){switch(r.label){case 0:return[4,(0,t.getSubmissions)(e)];case 1:for(n=r.sent(),i=0,s=n;i<s.length;i++)if((a=s[i]).id===o)return[2,a];return[2,null]}}))}))},t.getTries=function(e,o){return n(void 0,void 0,void 0,(function(){var n,i,s,a,u,c,l,d,f,h;return r(this,(function(r){switch(r.label){case 0:return[4,(0,t.getSubmissions)(e)];case 1:for(n=r.sent(),u=0,c=n;u<c.length;u++)if((h=c[u]).id===o){i=h.problem.contestId,s=h.problem.index,a=h.creationTimeSeconds;break}for(l=1,d=0,f=n;d<f.length;d++)(h=f[d]).problem.contestId===i&&h.problem.index===s&&"OK"!==h.verdict&&h.creationTimeSeconds<a&&l++;return[2,l]}}))}))},t.getSubmissionById=function(e,t){return n(void 0,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,fetch("https://codeforces.com/data/submitSource",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"submissionId=".concat(e,"&csrf_token=").concat(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))}},14:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(116),s=n(672),a=n(633);r(void 0,void 0,void 0,(function(){var e,t,n,u,c,l,d;return o(this,(function(f){if(!(e=(0,a.getSubmissionAnchors)()).length)return[2];for((0,a.headerInjector)(e[0].parentNode.firstElementChild),t=(0,a.getUserHandle)(),n=(0,a.getCSFRToken)(),u=function(e){for(var a=[].slice.call(e.children),u=e.querySelector("span.verdict-accepted"),c=a[2].getElementsByTagName("a"),l="",d=0,f=Array.from(c);d<f.length;d++){var h=f[d];if(h.innerText===t){l=h.innerText;break}}var p=a[3].getElementsByTagName("a")[0].href;a[7].className="memory-consumed-cell";var m=a[4].cloneNode(!0);if(m.innerText="",m.className="right",l!==t||!u)return e.appendChild(m),"continue";var v=a[4].innerText,b=a[0].getElementsByTagName("a")[0].getAttribute("submissionid"),g=document.createElement("span");g.style.display="flex",g.style.alignItems="center",g.style.justifyContent="center",g.className="dark",g.style.backgroundColor="inherit";var y=document.createElement("input");y.id="time-taken",y.type="number",y.placeholder="Time",y.style.marginRight="5px",y.style.maxWidth="5em";var S=document.createElement("button");S.style.width="6.2em",S.textContent="Push",g.appendChild(y),g.appendChild(S),m.appendChild(g),e.appendChild(m),S.addEventListener("click",(function(){return r(void 0,void 0,void 0,(function(){var e,r,a;return o(this,(function(o){switch(o.label){case 0:if(""==y.value)return alert("Please insert the time taken in minutes"),[2];S.disabled=!0,S.textContent="Pushing",o.label=1;case 1:return o.trys.push([1,4,,5]),[4,(0,i.getSubmissionById)(b,n)];case 2:return e=o.sent(),[4,(0,i.getTries)(t,+b)];case 3:return r=o.sent(),chrome.runtime.sendMessage({from:s.CodeforcesContentScript,type:s.CodeforcesEvent.PUSH_SUBMISSION_TO_SHEETS,code:e.source,timeTaken:y.value,questionUrl:p,submissionId:parseInt(b),language:v,inContest:e.contestName.includes("A2SV"),tries:r},(function(e){alert(e.status),S.disabled=!1,S.textContent="Push"})),[3,5];case 4:return a=o.sent(),alert(a.message),S.disabled=!1,S.textContent="Push",[3,5];case 5:return[2]}}))}))}))},c=0,l=e;c<l.length;c++)d=l[c],u(d);return[2]}))}))},672:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeforcesContentScript=t.CodeforcesEvent=void 0,t.CodeforcesEvent={GET_LAST_SUBMISSION:"getLastSubmissionId",PUSH_SUBMISSION_TO_SHEETS:"pushSubmissionToSheets",PUSH_TO_SHEETS_SUCCESS:"pushToSheetsSuccess",PUSH_TO_SHEETS_FAILURE:"pushToSheetsFailure"},t.CodeforcesContentScript="codeforces-content"},633:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSubmissionDetail=t.pusherInjector=t.headerInjector=t.getCSFRToken=t.getUserHandle=t.getSubmissionAnchors=void 0;var i=n(672);t.getSubmissionAnchors=function(){return[].slice.call(document.getElementsByClassName("highlighted-row"))},t.getUserHandle=function(){return[].slice.call(document.getElementsByClassName("lang-chooser")[0].getElementsByTagName("a")).filter((function(e){return e.href.includes("profile")}))[0].innerText},t.getCSFRToken=function(){return document.getElementsByClassName("csrf-token")[0].getAttribute("data-csrf")},t.headerInjector=function(e){var t=[].slice.call(e.children);t[7].className="top";var n=t[5].cloneNode(!0);n.className="top right",n.innerText="A2SV Pusher",e.appendChild(n)},t.pusherInjector=function(e,t){},t.getSubmissionDetail=function(e,t,n,s){return r(void 0,void 0,void 0,(function(){return o(this,(function(a){return setTimeout((function(){return r(void 0,void 0,void 0,(function(){var a,u,c;return o(this,(function(l){return a=document.getElementById("program-source-text-copy"),u=document.createElement("input"),a.parentNode.appendChild(u),u.id="time-taken",u.type="number",u.placeholder="Time taken (min)",u.style.marginBottom="5px",u.style.marginRight="10px",(c=document.createElement("button")).textContent="Push to Hub",a.parentNode.appendChild(c),c.addEventListener("click",(function(){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){if(""==u.value)return[2];r=function(e){for(var t=e.getElementsByTagName("pre")[0].getElementsByTagName("code")[0].getElementsByTagName("ol")[0].getElementsByTagName("li"),n=[],r=0,o=Array.from(t);r<o.length;r++){var i=o[r];n.push(i.outerText)}return n.join("\n")}(a.parentNode.parentNode);try{chrome.runtime.sendMessage({from:i.CodeforcesContentScript,type:i.CodeforcesEvent.PUSH_SUBMISSION_TO_SHEETS,codeforcesHandle:t,code:r,timeTaken:u.value,questionUrl:n,submissioId:parseInt(e),programmingLanguage:s,incontest:!1},(function(e){alert(e.status)}))}catch(e){alert(e.message)}return[2]}))}))})),[2]}))}))}),1e3),[2]}))}))}}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(14)})();